<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>LayIM 3.x PC版本地演示</title>
    <link rel="stylesheet" href="../build/css/layui.css">

</head>
<body></body>

<script src="../build/layui.js"></script>
<script>

    if (!/^http(s*):\/\//.test(location.href)) {
        alert('请部署到localhost上查看该演示');
    }

    //layui绑定扩展
    layui.config({
        base: '../rc/'
    }).extend({
        rmlib: 'rmlib',
        protobuf: 'protobuf',
        socket: 'socket'
    });
    layui.use(['layim','jquery','socket'], function (layim,socket) {
        var $ = layui.jquery;
        var socket = layui.socket;

        //基础配置
        layim.config({
            //初始化接口
            init: {
                url: 'json/getList.json'
                ,data: {}
            }
            ,isAudio: true //开启聊天工具栏音频
            ,isVideo: true //开启聊天工具栏视频

            //,brief: true //是否简约模式（若开启则不显示主面板）

            //,title: 'WebIM' //自定义主面板最小化时的标题
            //,right: '100px' //主面板相对浏览器右侧距离
            //,minRight: '90px' //聊天面板最小化时相对浏览器右侧距离
            ,initSkin: '5.jpg' //1-5 设置初始背景
            //,skin: ['aaa.jpg'] //新增皮肤
            //,isfriend: false //是否开启好友
            //,isgroup: false //是否开启群组
            //,min: true //是否始终最小化主面板，默认false
            ,notice: true //是否开启桌面消息提醒，默认false
            //,voice: false //声音提醒，默认开启，声音文件为：default.mp3

            , members: {
                url: 'json/getMembers.json'
                , data: {}
            }

            ,msgbox: layui.cache.dir + 'css/modules/layim/html/msgbox.html' //消息盒子页面地址，若不开启，剔除该项即可
            ,find: layui.cache.dir + 'css/modules/layim/html/find.html' //发现页面地址，若不开启，剔除该项即可
            ,chatLog: layui.cache.dir + 'css/modules/layim/html/chatLog.html' //聊天记录页面地址，若不开启，剔除该项即可
        });
        // 融云socket初始化
        socket.config({
            key: 'y745wfm8yrxfv',
            // 在线客服一 token（由唯一ID和共用AppSecret生成）
            token: "4yw2ApJrH1I07rIQHn6wso1Zfe3jBeh54LZhIF/UVC+6I3MgPGbV8dAgid6swBXZcodE9slRdDFkAGthxLUjmw==",
            layim: layim
        });

    });
</script>
</body>
</html>
